<!doctype html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="linux,运维," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="部分软件简介1、AMP －－－apache（web服务） 、mysql（数据库）、php（非必需） 的简称
2、postfix －－mta 邮件系统核心
3、courier-authlib－－一个为courier-imap，maildrop，sasl2 提供用户信息的后台进程序
4、courier-imap －－提供pop3,pop3s,imap,imaps 服务的程序
5、amavisd-new">
<meta property="og:type" content="article">
<meta property="og:title" content="linux+postfix+extmail">
<meta property="og:url" content="https://fangdaidai.github.io/2013/02/26/linuxpostfixextmail/index.html">
<meta property="og:site_name" content="矜能负才.Zero">
<meta property="og:description" content="部分软件简介1、AMP －－－apache（web服务） 、mysql（数据库）、php（非必需） 的简称
2、postfix －－mta 邮件系统核心
3、courier-authlib－－一个为courier-imap，maildrop，sasl2 提供用户信息的后台进程序
4、courier-imap －－提供pop3,pop3s,imap,imaps 服务的程序
5、amavisd-new">
<meta property="og:updated_time" content="2017-03-31T03:11:33.973Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="linux+postfix+extmail">
<meta name="twitter:description" content="部分软件简介1、AMP －－－apache（web服务） 、mysql（数据库）、php（非必需） 的简称
2、postfix －－mta 邮件系统核心
3、courier-authlib－－一个为courier-imap，maildrop，sasl2 提供用户信息的后台进程序
4、courier-imap －－提供pop3,pop3s,imap,imaps 服务的程序
5、amavisd-new">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://fangdaidai.github.io/2013/02/26/linuxpostfixextmail/"/>





  <title> linux+postfix+extmail | 矜能负才.Zero </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  














  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">矜能负才.Zero</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">比我优秀的人还在努力，那我努力还有啥用。</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-docker">
          <a href="/docker" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            menu.docker
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://fangdaidai.github.io/2013/02/26/linuxpostfixextmail/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="方大壮">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="矜能负才.Zero">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                linux+postfix+extmail
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2013-02-26T23:47:44+08:00">
                2013/02-26
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/运维/" itemprop="url" rel="index">
                    <span itemprop="name">运维</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <h3 id="部分软件简介"><a href="#部分软件简介" class="headerlink" title="部分软件简介"></a>部分软件简介</h3><p>1、AMP －－－apache（web服务） 、mysql（数据库）、php（非必需） 的简称</p>
<p>2、postfix －－mta 邮件系统核心</p>
<p>3、courier-authlib－－一个为courier-imap，maildrop，sasl2 提供用户信息的后台进程序</p>
<p>4、courier-imap －－提供pop3,pop3s,imap,imaps 服务的程序</p>
<p>5、amavisd-new －－提供内容过滤</p>
<p>6、clamav －－ 著名的杀毒软件</p>
<p>7、extmail －－一个著名的webmail程序</p>
<p>8、extman －－与extmail集成的后台管理程序</p>
<h3 id="安装环境"><a href="#安装环境" class="headerlink" title="安装环境"></a>安装环境</h3><p>centos 5.4</p>
<p>域名机器名：mail.linuxsee.com</p>
<p>域名：linuxsee.com</p>
<h3 id="安装AMP"><a href="#安装AMP" class="headerlink" title="安装AMP"></a>安装AMP</h3><pre><code>[root@localhost ~]# yum -y install httpd httpd-devel mysql mysql-devel mysql-server php php-xml php-cli php-pdo php-mbstring php-mcrypt php-gd php-common php-devel php-mysql
</code></pre><p>修改启动配置并启动</p>
<pre><code>[root@localhost ~]# chkconfig –level 345  mysqld on

[root@localhost ~]# chkconfig –level 345  httpd on

[root@localhost ~]# service mysqld start

[root@localhost ~]# service httpd start
</code></pre><h3 id="导入extman-后台数据库"><a href="#导入extman-后台数据库" class="headerlink" title="导入extman 后台数据库"></a>导入extman 后台数据库</h3><pre><code>[root@localhost ~]# tar zxf extman-0.2.5b1.tar.gz

[root@localhost ~]# cd extman-0.2.5b1/docs/

[root@localhost docs]# mysql -uroot -p &lt;extmail.sql

Enter password:

[root@localhost docs]# mysql -uroot -p &lt;init.sql

Enter password:
</code></pre><p>如何使用了phpmyadmin改了root 密码，记得输入密码，如果密码为空，请按回车。</p>
<h3 id="安装authlib"><a href="#安装authlib" class="headerlink" title="安装authlib"></a>安装authlib</h3><h4 id="安装依懒的包"><a href="#安装依懒的包" class="headerlink" title="安装依懒的包"></a>安装依懒的包</h4><pre><code>[root@localhost ~]# yum -y install postgresql-devel expect libtool-ltdl-devel
</code></pre><h4 id="安装生成的rpm"><a href="#安装生成的rpm" class="headerlink" title="安装生成的rpm"></a>安装生成的rpm</h4><pre><code>[root@localhost i386]# rpm -ivh courier-authlib-0.62.0-1.i386.rpm

[root@localhost i386]# rpm -ivh courier-authlib-devel-0.62.0-1.i386.rpm

[root@localhost i386]# rpm -ivh courier-authlib-mysql-0.62.0-1.i386.rpm
</code></pre><h4 id="配置authlibdaemon"><a href="#配置authlibdaemon" class="headerlink" title="配置authlibdaemon"></a>配置authlibdaemon</h4><pre><code>[root@localhost i386]# cd /etc/authlib/

[root@localhost authlib]# mv authdaemonrc authdaemonrc.bak

[root@localhost authlib]# vim authdaemonrc
</code></pre><p>输入下面的内容：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">authmodulelist=”authmysql”</div><div class="line"></div><div class="line">authmodulelistorig=”authmysql”</div><div class="line"></div><div class="line">daemons=10</div><div class="line"></div><div class="line">authdaemonvar=/var/spool/authdaemon</div><div class="line"></div><div class="line">DEBUG_LOGIN=2</div><div class="line"></div><div class="line">DEFAULTOPTIONS=”wbnodsn=1”</div><div class="line"></div><div class="line">LOGGEROPTS=””</div></pre></td></tr></table></figure>
<h4 id="配置authmysqlrc"><a href="#配置authmysqlrc" class="headerlink" title="配置authmysqlrc"></a>配置authmysqlrc</h4><pre><code>[root@localhost authlib]# mv authmysqlrc authmysqlrc.bak

[root@localhost authlib]# vim authmysqlrc
</code></pre><p>输入下面的内容：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line">MYSQL_SERVER    localhost</div><div class="line"></div><div class="line">MYSQL_USERNAME  root   #这里需要输入对extmail数据库有操作权限的mysql用户名</div><div class="line"></div><div class="line">MYSQL_PASSWORD  uusql#2010  #这里需要输入对extmail数据库有操作权限的mysql密码</div><div class="line"></div><div class="line">MYSQL_PORT      0</div><div class="line"></div><div class="line">MYSQL_SOCKET    /tmp/mysql.sock</div><div class="line"></div><div class="line">MYSQL_OPT       0</div><div class="line"></div><div class="line">MYSQL_DATABASE  extmail</div><div class="line"></div><div class="line">MYSQL_SELECT_CLAUSE     SELECT username,password,””,uidnumber,gidnumber,\</div><div class="line"></div><div class="line">CONCAT(‘/home/data/domains/’,homedir),               \</div><div class="line"></div><div class="line">CONCAT(‘/home/data/domains/’,maildir),               \</div><div class="line"></div><div class="line">quota,                                          \</div><div class="line"></div><div class="line">name                                            \</div><div class="line"></div><div class="line">FROM mailbox                                    \</div><div class="line"></div><div class="line">WHERE username = ‘$(local_part)@$(domain)’</div></pre></td></tr></table></figure>
<h4 id="启动authlib"><a href="#启动authlib" class="headerlink" title="启动authlib"></a>启动authlib</h4><pre><code>[root@localhost ~]# service courier-authlib start

Starting Courier authentication services: authdaemond

[root@localhost ~]# chmod 777 /var/spool/authdaemon/
</code></pre><h3 id="安装courier-imap"><a href="#安装courier-imap" class="headerlink" title="安装courier-imap"></a>安装courier-imap</h3><pre><code>[root@localhost ~]# rpm -ivh courier-imap-4.1.2-1.i386.rpm

[root@localhost ~]# service courier-imap start
</code></pre><h3 id="安装cyrus-sasl"><a href="#安装cyrus-sasl" class="headerlink" title="安装cyrus-sasl"></a>安装cyrus-sasl</h3><h4 id="安装SRPM"><a href="#安装SRPM" class="headerlink" title="安装SRPM"></a>安装SRPM</h4><pre><code>[root@localhost i386]# rpm -e –nodeps cyrus-sasl-devel cyrus-sasl-plain cyrus-sasl cyrus-sasl-lib （如果这些包存在）

[root@localhost i386]# rpm -ihv cyrus-sasl-lib-2.1.22-5.el5.i386.rpm

[root@localhost i386]# rpm -ihv cyrus-sasl-2.1.22-5.el5.i386.rpm

[root@localhost i386]# rpm -ihv cyrus-sasl-plain-2.1.22-5.el5.i386.rpm
</code></pre><h4 id="配置sasl2"><a href="#配置sasl2" class="headerlink" title="配置sasl2"></a>配置sasl2</h4><p>创建/usr/lib/sasl2/smtpd.conf 文件，输入下面的内容：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">pwcheck_method:authdaemond</div><div class="line"></div><div class="line">log_level:3</div><div class="line"></div><div class="line">mech_list:PLAIN LOGIN</div><div class="line"></div><div class="line">authdaemond_path:/var/spool/authdaemon/socket</div></pre></td></tr></table></figure>
<h3 id="安装postfix"><a href="#安装postfix" class="headerlink" title="安装postfix"></a>安装postfix</h3><h4 id="安装软件包"><a href="#安装软件包" class="headerlink" title="安装软件包"></a>安装软件包</h4><pre><code>[root@localhost i386]# rpm -ivh postfix-2.5.4-2.rhel4.i386.rpm
</code></pre><h4 id="切换mta"><a href="#切换mta" class="headerlink" title="切换mta"></a>切换mta</h4><pre><code>[root@localhost i386]# alternatives –config mta （选择2，postfix）

[root@localhost i386]# rpm -e sendmail

[root@localhost i386]# cd /usr/sbin/

[root@localhost sbin]# mv sendmail sendmail.bak

[root@localhost sbin]# newaliases

[root@localhost sbin]# ln -s sendmail.postfix sendmail
</code></pre><h4 id="配置postfix"><a href="#配置postfix" class="headerlink" title="配置postfix"></a>配置postfix</h4><pre><code>[root@localhost ~]# cd /etc/postfix/

[root@localhost postfix]# mv main.cf main.cf.bak

[root@localhost postfix]# vim main.cf
</code></pre><p>输入下面的内容：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div></pre></td><td class="code"><pre><div class="line">queue_directory = /var/spool/postfix</div><div class="line"></div><div class="line">command_directory = /usr/sbin</div><div class="line"></div><div class="line">daemon_directory = /usr/libexec/postfix</div><div class="line"></div><div class="line">data_directory = /var/lib/postfix</div><div class="line"></div><div class="line">mail_owner = postfix</div><div class="line"></div><div class="line">unknown_local_recipient_reject_code = 550</div><div class="line"></div><div class="line">debug_peer_level = 2</div><div class="line"></div><div class="line">debugger_command =</div><div class="line"></div><div class="line">PATH=/bin:/usr/bin:/usr/local/bin:/usr/X11R6/bin</div><div class="line"></div><div class="line">ddd $daemon_directory/$process_name $process_id &amp; sleep 5</div><div class="line"></div><div class="line">sendmail_path = /usr/sbin/sendmail.postfix</div><div class="line"></div><div class="line">newaliases_path = /usr/bin/newaliases.postfix</div><div class="line"></div><div class="line">mailq_path = /usr/bin/mailq.postfix</div><div class="line"></div><div class="line">setgid_group = postdrop</div><div class="line"></div><div class="line">html_directory = /usr/share/doc/postfix-2.5.2-documentation/html</div><div class="line"></div><div class="line">manpage_directory = /usr/share/man</div><div class="line"></div><div class="line">sample_directory = /etc/postfix</div><div class="line"></div><div class="line">readme_directory = /usr/share/doc/postfix-2.5.2-documentation/readme</div><div class="line"></div><div class="line">alias_database = hash:/etc/postfix/aliases</div><div class="line"></div><div class="line">alias_maps = hash:/etc/postfix/aliases</div><div class="line"></div><div class="line">myhostname = mail.linuxsee.com</div><div class="line"></div><div class="line"> </div><div class="line"></div><div class="line">mydomain = linuxsee.com</div><div class="line"></div><div class="line">mydestination = $myhostname</div><div class="line"></div><div class="line">smtpd_banner = linuxsee.com ESMTP Mail System</div><div class="line"></div><div class="line">message_size_limit = 14680064</div><div class="line"></div><div class="line">virtual_alias_maps = mysql:/etc/postfix/mysql_virtual_alias_maps.cf</div><div class="line"></div><div class="line">virtual_mailbox_base = /home/data/domains</div><div class="line"></div><div class="line">virtual_mailbox_domains = mysql:/etc/postfix/mysql_virtual_domains_maps.cf</div><div class="line"></div><div class="line">virtual_mailbox_maps = mysql:/etc/postfix/mysql_virtual_mailbox_maps.cf</div><div class="line"></div><div class="line">virtual_mailbox_limit_maps = mysql:/etc/postfix/mysql_virtual_limit_maps.cf</div><div class="line"></div><div class="line">virtual_transport = maildrop:</div><div class="line"></div><div class="line">maildrop_destination_recipient_limit = 1</div><div class="line"></div><div class="line">#sasl</div><div class="line"></div><div class="line">smtpd_sasl_auth_enable = yes</div><div class="line"></div><div class="line">smtpd_sasl2_auth_enable = yes</div><div class="line"></div><div class="line">smtpd_sasl_security_options = noanonymous</div><div class="line"></div><div class="line">broken_sasl_auth_clients = yes</div><div class="line"></div><div class="line">smtpd_recipient_restrictions =</div><div class="line"></div><div class="line">permit_mynetworks,</div><div class="line"></div><div class="line">permit_sasl_authenticated,</div><div class="line"></div><div class="line">reject_unauth_destination,</div><div class="line"></div><div class="line">reject_unauth_pipelining,</div><div class="line"></div><div class="line">reject_invalid_hostname</div></pre></td></tr></table></figure>
<p>复制extman/docs 目录的cf 文件到/etc/postfix</p>
<pre><code>[root@localhost postfix]# cp /root/extman-0.2.5b1/docs/mysql_virtual_* .
</code></pre><p>并修改这些配置文件的用户名为root，密码为uusql#2010</p>
<pre><code>[root@localhost postfix]# service postfix start
</code></pre><h4 id="安装maildrop"><a href="#安装maildrop" class="headerlink" title="安装maildrop"></a>安装maildrop</h4><h4 id="创建安装maildrop-rpm"><a href="#创建安装maildrop-rpm" class="headerlink" title="创建安装maildrop rpm"></a>创建安装maildrop rpm</h4><pre><code>[root@localhost SPECS]# yum -y install pcre-devel

[root@localhost i386]# rpm -ivh maildrop-2.0.4-1.i386.rpm
</code></pre><h4 id="添加虚似用户及创建目录"><a href="#添加虚似用户及创建目录" class="headerlink" title="添加虚似用户及创建目录"></a>添加虚似用户及创建目录</h4><pre><code>[root@localhost i386]# cd

[root@localhost ~]# groupadd -g 1000 vgroup

[root@localhost ~]# useradd -g 1000 -u 1000 -s /sbin/nologin -d /dev/null vuser
</code></pre><p>编辑/etc/postfix/master.cf ，加入下面的内容：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">maildrop unix –     n     n     –     –     pipe</div><div class="line"></div><div class="line">flags=DRhu user=vuser argv=/usr/bin/maildrop -d $&#123;user&#125;@$&#123;nexthop&#125; $&#123;recipient&#125; $&#123;user&#125; $&#123;extension&#125; $&#123;nexthop&#125;</div></pre></td></tr></table></figure>
<h4 id="创建邮件存储目录"><a href="#创建邮件存储目录" class="headerlink" title="创建邮件存储目录"></a>创建邮件存储目录</h4><pre><code>[root@localhost ~]# mkdir -p /home/data/domains/extmail.org/postmaster

[root@localhost ~]# maildirmake /home/data/domains/extmail.org/postmaster/Maildir

[root@localhost ~]# chown -R vuser:vgroup /home/data/domains/
</code></pre><h4 id="测试maildrop"><a href="#测试maildrop" class="headerlink" title="测试maildrop"></a>测试maildrop</h4><pre><code>[root@localhost ~]# echo “test” | maildrop -V 10 -d postmaster@extmail.org
</code></pre><blockquote>
<p>maildrop: authlib: groupid=1000</p>
<p>maildrop: authlib: userid=1000</p>
<p>maildrop: authlib: logname=postmaster@extmail.org, home=/home/data/domains/extmail.org/postmaster, mail=/home/data/domains/extmail.org/postmaster/Maildir/</p>
<p>maildrop: Changing to /home/data/domains/extmail.org/postmaster</p>
<p>Message start at 0 bytes, envelope sender=postmaster@extmail.org</p>
<p>maildrop: Attempting .mailfilter</p>
<p>maildrop: Delivery complete.</p>
</blockquote>
<p>出现上以信息说明authlib，maildrop 工作正常</p>
<h4 id="测试pop3"><a href="#测试pop3" class="headerlink" title="测试pop3"></a>测试pop3</h4><pre><code>[root@localhost ~]# telnet localhost 110
</code></pre><blockquote>
<p>Trying 127.0.0.1…</p>
<p>Connected to localhost.localdomain (127.0.0.1).</p>
<p>Escape character is ‘^]’.</p>
<p>+OK Hello there.</p>
<p>user postmaster@extmail.org</p>
<p>+OK Password required.</p>
<p>pass extmail</p>
<p>+OK logged in.</p>
<p>list</p>
<p>+OK POP3 clients that break here, they violate STD53.</p>
<p>1 6</p>
<p>.</p>
<p>retr 1</p>
<p>+OK 6 octets follow.</p>
<p>test</p>
<p>.</p>
<p>quit</p>
<p>+OK Bye-bye.</p>
<p>Connection closed by foreign host.</p>
</blockquote>
<h4 id="测试postfix"><a href="#测试postfix" class="headerlink" title="测试postfix"></a>测试postfix</h4><pre><code>[root@localhost ~]# perl -MMIME::Base64 -e ‘print encode_base64(“postmaster\@extmail.org”);’

cG9zdG1hc3RlckBleHRtYWlsLm9yZw==

[root@localhost ~]# perl -MMIME::Base64 -e ‘print encode_base64(“extmail”);’

ZXh0bWFpbA==

[root@localhost ~]# service postfix restart （重启一下）

[root@localhost ~]# telnet localhost 25
</code></pre><blockquote>
<p>Trying 127.0.0.1…</p>
<p>Connected to localhost.localdomain (127.0.0.1).</p>
<p>Escape character is ‘^]’.</p>
<p>220 linuxsee.com ESMTP Mail System</p>
<p>ehlo test.com</p>
<p>250-mail.uucun.lan</p>
<p>250-PIPELINING</p>
<p>250-SIZE 14680064</p>
<p>250-VRFY</p>
<p>250-ETRN</p>
<p>250-AUTH LOGIN PLAIN</p>
<p>250-AUTH=LOGIN PLAIN</p>
<p>250-ENHANCEDSTATUSCODES</p>
<p>250-8BITMIME</p>
<p>250 DSN</p>
<p>auth login</p>
<p>334 VXNlcm5hbWU6</p>
<p>cG9zdG1hc3RlckBleHRtYWlsLm9yZw==</p>
<p>334 UGFzc3dvcmQ6</p>
<p>ZXh0bWFpbA==</p>
<p>235 2.7.0 Authentication successful</p>
<p>quit</p>
<p>221 2.0.0 Bye</p>
<p>Connection closed by foreign host</p>
</blockquote>
<h3 id="安装amavisd-new杀毒软件"><a href="#安装amavisd-new杀毒软件" class="headerlink" title="安装amavisd-new杀毒软件"></a>安装amavisd-new杀毒软件</h3><p>编辑/etc/yum.repos.d/CentOS-Base.repo 加入下面的内容：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">[dag]</div><div class="line"></div><div class="line">name=Dag RPM Repostory for Red Hat Enterprise Linux</div><div class="line"></div><div class="line">baseurl=http://apt.sw.be/redhat/el$releasever/en/$basearch/dag</div><div class="line"></div><div class="line">gpgcheck=1</div><div class="line"></div><div class="line">enabled=1</div><div class="line"></div><div class="line">gpgkey=http://dag.wieers.com/packages/RPM-GPG-KEY.dag.txt</div></pre></td></tr></table></figure>
<pre><code>[root@localhost ~]# yum -y install clamav clamav-db clamd clamav-devel amavisd-new
</code></pre><p>编辑/etc/amavisd.conf，修改下面的内容</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$mydomain = ‘linuxsee.com’;   # a convenient default for other settings</div></pre></td></tr></table></figure>
<p>注意修改主机名与$mydomain相同</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$myhostname=’linuxsee.com’</div></pre></td></tr></table></figure>
<p>把下面内容去掉注释，并修改为下面</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">[‘ClamAV-clamd’,</div><div class="line"></div><div class="line">\&amp;ask_daemon, [“CONTSCAN &#123;&#125;\n”, “/var/run/clamav/clamd.socket”],</div><div class="line"></div><div class="line">qr/\bOK$/, qr/\bFOUND$/,</div><div class="line"></div><div class="line">qr/^.*?: (?!Infected Archive)(.*) FOUND$/ ],</div></pre></td></tr></table></figure>
<pre><code>[root@localhost ~]# service amavisd start

[root@localhost ~]# usermod -G amavis clamav

[root@localhost ~]# freshclam   （升级病毒库）

[root@localhost ~]# service clamd start
</code></pre><p>在/etc/postfix/master.cf 增加下面的内容：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line">smtp-amavis  unix    –    –    n    –    4    smtp</div><div class="line"></div><div class="line">-o smtp_data_done_timeout=1200</div><div class="line"></div><div class="line">-o smtp_send_xforward_command=yes</div><div class="line"></div><div class="line">-o disable_dns_lookups=yes</div><div class="line"></div><div class="line">127.0.0.1:10025 inet    n    –    n    –    –    smtpd</div><div class="line"></div><div class="line">-o content_filter=</div><div class="line"></div><div class="line">-o local_recipient_maps=</div><div class="line"></div><div class="line">-o relay_recipient_maps=</div><div class="line"></div><div class="line">-o smtpd_restriction_classes=</div><div class="line"></div><div class="line">-o smtpd_helo_restrictions=</div><div class="line"></div><div class="line">-o smtpd_sender_restrictions=</div><div class="line"></div><div class="line">-o smtpd_recipient_restrictions=permit_mynetworks,reject</div><div class="line"></div><div class="line">-o mynetworks=127.0.0.0/8</div><div class="line"></div><div class="line">-o strict_rfc821_envelopes=yes</div><div class="line"></div><div class="line">-o smtpd_error_sleep_time=0</div><div class="line"></div><div class="line">-o smtpd_soft_error_limit=1001</div><div class="line"></div><div class="line">-o smtpd_hard_error_limit=1000</div><div class="line"></div><div class="line">-o receive_override_options=no_header_body_checks</div></pre></td></tr></table></figure>
<p>在/etc/postfix/main.cf 加入下面的内容</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">content_filter = smtp-amavis:[localhost]:10024</div></pre></td></tr></table></figure>
<pre><code>[root@localhost ~]# service postfix reload
</code></pre><h3 id="安装extman-extmail"><a href="#安装extman-extmail" class="headerlink" title="安装extman/extmail"></a>安装extman/extmail</h3><h4 id="配置apache"><a href="#配置apache" class="headerlink" title="配置apache"></a>配置apache</h4><p>修改/etc/httpd/conf/httpd.conf，将下面的选项改为：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">User vuser</div><div class="line"></div><div class="line">Group vgroup</div></pre></td></tr></table></figure>
<pre><code>[root@localhost ~]# cd /etc/httpd/conf.d/

[root@localhost conf.d]# vim extmail.conf
</code></pre><p>输入下面的内容：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line">Alias /extman/cgi/ /var/www/extsuite/extman/cgi/</div><div class="line"></div><div class="line">Alias /extman /var/www/extsuite/extman/html/</div><div class="line"></div><div class="line">&lt;Location “/extman/cgi”&gt;</div><div class="line"></div><div class="line">SetHandler cgi-script</div><div class="line"></div><div class="line">Options +ExecCGI</div><div class="line"></div><div class="line">&lt;/Location&gt;</div><div class="line"></div><div class="line"># config for ExtMail</div><div class="line"></div><div class="line">#Alias /cgi /var/www/extsuite/extmail/cgi/</div><div class="line"></div><div class="line">#Alias / /var/www/extsuite/extmail/html/</div><div class="line"></div><div class="line">Alias /extmail/cgi/ /var/www/extsuite/extmail/cgi/</div><div class="line"></div><div class="line">Alias /extmail /var/www/extsuite/extmail/html/</div><div class="line"></div><div class="line">&lt;Location “/extmail/cgi”&gt;</div><div class="line"></div><div class="line">SetHandler cgi-script</div><div class="line"></div><div class="line">Options +ExecCGI</div><div class="line"></div><div class="line">&lt;/Location&gt;</div></pre></td></tr></table></figure>
<pre><code>[root@localhost ~]# mkdir /var/www/extsuite

[root@localhost ~]# tar zxf extmail-1.0.5b1.tar.gz

[root@localhost ~]# cp -r extmail-1.0.5b1 /var/www/extsuite/extmail

[root@localhost ~]# cp -r extman-0.2.5b1 /var/www/extsuite/extman
</code></pre><h4 id="配置extmail参数"><a href="#配置extmail参数" class="headerlink" title="配置extmail参数"></a>配置extmail参数</h4><pre><code>[root@localhost ~]# cd /var/www/extsuite/extmail/

[root@localhost extmail]# cp webmail.cf.default webmail.cf
</code></pre><p>修改webmail.cf 下面的选项</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">SYS_SESS_DIR = /tmp/extmail</div><div class="line"></div><div class="line">SYS_MAILDIR_BASE = /home/data/domains</div><div class="line"></div><div class="line">SYS_MYSQL_USER = root</div><div class="line"></div><div class="line">SYS_MYSQL_PASS = uusql#2010</div></pre></td></tr></table></figure>
<p>C、配置extman参数</p>
<pre><code>[root@localhost extmail]# cd /var/www/extsuite/extman/
</code></pre><p>修改webman.cf 下面的选项：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">SYS_MAILDIR_BASE = /home/data/domains</div></pre></td></tr></table></figure>
<h4 id="创建session-目录"><a href="#创建session-目录" class="headerlink" title="创建session 目录"></a>创建session 目录</h4><pre><code>[root@localhost extman]# mkdir /tmp/{extman,extmail}

[root@localhost extman]# chown vuser:vgroup /tmp/ext*
</code></pre><p>E、配置后台日志分析工具</p>
<pre><code>[root@localhost addon]# cd /var/www/extsuite/extman/addon/

[root@localhost addon]# cp -r mailgraph_ext /usr/local/
</code></pre><p>将下面的内容加入/etc/rc.local</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">/usr/local/mailgraph_ext/mailgraph-init start</div><div class="line"></div><div class="line">/usr/local/mailgraph_ext/qmonitor-init start</div></pre></td></tr></table></figure>
<p>安装所依懒的软件包</p>
<pre><code>[root@localhost mailgraph_ext]# yum -y install rrdtool perl-rrdtool perl-GD perl-File-Tail
</code></pre><h4 id="启动后台进程"><a href="#启动后台进程" class="headerlink" title="启动后台进程"></a>启动后台进程</h4><pre><code>[root@localhost mailgraph_ext]# /usr/local/mailgraph_ext/qmonitor-init start

Starting queue statistics grapher: qmonitor

[root@localhost mailgraph_ext]# /usr/local/mailgraph_ext/mailgraph-init start

Starting mail statistics grapher: mailgraph_ext
</code></pre><h4 id="访问extmail-extman"><a href="#访问extmail-extman" class="headerlink" title="访问extmail/extman"></a>访问extmail/extman</h4><p>打开浏览器，输入<a href="http://your_ip_address/extmail" target="_blank" rel="external">http://your_ip_address/extmail</a> 注意：your_ip_address 为你实际的ip</p>
<p>第一个测试用户为：postmaster 密码：extmail 域：extmail</p>
<p>打开浏览器，输入<a href="http://your_ip_address/extman" target="_blank" rel="external">http://your_ip_address/extman</a></p>
<p>extman root 用户为：root@extmail.org 密码为：extmail<em>123</em></p>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>


    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/linux/" rel="tag"># linux</a>
          
            <a href="/tags/运维/" rel="tag"># 运维</a>
          
        </div>
      

      
        
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2013/02/26/xen-install/" rel="next" title="xen安装win">
                <i class="fa fa-chevron-left"></i> xen安装win
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2013/03/05/zabbix-server/" rel="prev" title="zabbix server install">
                zabbix server install <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>

          
          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="方大壮" />
          <p class="site-author-name" itemprop="name">方大壮</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
          
        </div>
        <nav class="site-state motion-element">
        
          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">38</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">4</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">14</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#部分软件简介"><span class="nav-number">1.</span> <span class="nav-text">部分软件简介</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#安装环境"><span class="nav-number">2.</span> <span class="nav-text">安装环境</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#安装AMP"><span class="nav-number">3.</span> <span class="nav-text">安装AMP</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#导入extman-后台数据库"><span class="nav-number">4.</span> <span class="nav-text">导入extman 后台数据库</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#安装authlib"><span class="nav-number">5.</span> <span class="nav-text">安装authlib</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#安装依懒的包"><span class="nav-number">5.1.</span> <span class="nav-text">安装依懒的包</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#安装生成的rpm"><span class="nav-number">5.2.</span> <span class="nav-text">安装生成的rpm</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#配置authlibdaemon"><span class="nav-number">5.3.</span> <span class="nav-text">配置authlibdaemon</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#配置authmysqlrc"><span class="nav-number">5.4.</span> <span class="nav-text">配置authmysqlrc</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#启动authlib"><span class="nav-number">5.5.</span> <span class="nav-text">启动authlib</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#安装courier-imap"><span class="nav-number">6.</span> <span class="nav-text">安装courier-imap</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#安装cyrus-sasl"><span class="nav-number">7.</span> <span class="nav-text">安装cyrus-sasl</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#安装SRPM"><span class="nav-number">7.1.</span> <span class="nav-text">安装SRPM</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#配置sasl2"><span class="nav-number">7.2.</span> <span class="nav-text">配置sasl2</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#安装postfix"><span class="nav-number">8.</span> <span class="nav-text">安装postfix</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#安装软件包"><span class="nav-number">8.1.</span> <span class="nav-text">安装软件包</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#切换mta"><span class="nav-number">8.2.</span> <span class="nav-text">切换mta</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#配置postfix"><span class="nav-number">8.3.</span> <span class="nav-text">配置postfix</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#安装maildrop"><span class="nav-number">8.4.</span> <span class="nav-text">安装maildrop</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#创建安装maildrop-rpm"><span class="nav-number">8.5.</span> <span class="nav-text">创建安装maildrop rpm</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#添加虚似用户及创建目录"><span class="nav-number">8.6.</span> <span class="nav-text">添加虚似用户及创建目录</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#创建邮件存储目录"><span class="nav-number">8.7.</span> <span class="nav-text">创建邮件存储目录</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#测试maildrop"><span class="nav-number">8.8.</span> <span class="nav-text">测试maildrop</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#测试pop3"><span class="nav-number">8.9.</span> <span class="nav-text">测试pop3</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#测试postfix"><span class="nav-number">8.10.</span> <span class="nav-text">测试postfix</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#安装amavisd-new杀毒软件"><span class="nav-number">9.</span> <span class="nav-text">安装amavisd-new杀毒软件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#安装extman-extmail"><span class="nav-number">10.</span> <span class="nav-text">安装extman/extmail</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#配置apache"><span class="nav-number">10.1.</span> <span class="nav-text">配置apache</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#配置extmail参数"><span class="nav-number">10.2.</span> <span class="nav-text">配置extmail参数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#创建session-目录"><span class="nav-number">10.3.</span> <span class="nav-text">创建session 目录</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#启动后台进程"><span class="nav-number">10.4.</span> <span class="nav-text">启动后台进程</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#访问extmail-extman"><span class="nav-number">10.5.</span> <span class="nav-text">访问extmail/extman</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2012 - 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">方大壮</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    
    
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  




  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  



  




	





  





  





  



  
  

  

  

  

  


  

</body>
</html>
